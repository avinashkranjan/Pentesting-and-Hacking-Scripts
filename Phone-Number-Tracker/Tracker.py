from phonenumbers import geocoder
from phonenumbers import carrier, timezone
import phonenumbers
import sys

# Input phone number as this format example-> "+91278738278"
numbers = input("Enter phone number: ")

if '+' in numbers: #if it starts with + proceed else error

    # ch_num will store parsed number
    try:
       ch_num = phonenumbers.parse(numbers)

    except Exception as e:  #to handle invalid phone numbers such as +91 only etc
       print("Invalid phone number",str(e))
       sys.exit(0)

else:
   print('Please make sure you enter the phone number in correct format\nInput phone number as this format example-> "+91278738278"')
   sys.exit(0)

try:
    if phonenumbers.is_valid_number(ch_num):#this will check entered phone number is valid or not
     print(geocoder.description_for_number(ch_num, "en"))

     service_num = phonenumbers.parse(numbers)
     print(carrier.name_for_number(service_num, "en")) #this will fetch carrier name

     timeZone = timezone.time_zones_for_number(ch_num) #Timezone of entered phone number
     print(timeZone)

    else:
        possible = phonenumbers.is_possible_number(ch_num) #this will check whether phone number which is invalid but possible to be number
        print("Number is not valid")
        print("Number is Possible :  ",possible)


except phonenumbers.NumberParseException as e:
    print(str(e))
